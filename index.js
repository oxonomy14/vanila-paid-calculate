(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const p=[{username:"Анатолий Анатолич",email:"test@gmail.com",price:"1600",titleCourse:"учебная сессия",opt:"3",priceOpt:"1200",teacher:"Екатерина Ярская"},{username:"Яна Яламова",email:"yasmina75713@gmail.com",price:"1600",titleCourse:"учебная сессия",opt:"3",priceOpt:"1200",teacher:"Екатерина Ярская"},{username:"Инна Козлова",email:"mary-bizness06@mail.ru",price:"3000",titleCourse:"психоанализ",opt:"",priceOpt:"",teacher:"Павел Дементьев"},{username:"Анастасия Чиверда",email:"n-chiverda@mail.ru",price:"2500",titleCourse:"психоанализ",opt:"",priceOpt:"",teacher:"Павел Дементьев"},{username:"Татьяна Левашова",email:"tanyafedotova2601@yandex.ru",price:"2500",titleCourse:"психоанализ",opt:"",priceOpt:"",teacher:"Павел Дементьев"}],u="feedback-form-state",c={form:document.querySelector(".feedback-form"),container:document.querySelector(".feedback-message"),title:document.querySelector(".sub-title"),result:document.querySelector(".text-1"),text2:document.querySelector(".text-2"),text3:document.querySelector(".text-3")};//! Парсим xml обменника
let i=null;fetch("https://vipchanger.com/res/xml/exprates.xml").then(e=>e.text()).then(e=>{const t=new DOMParser().parseFromString(e,"application/xml"),a="WIRETHB",r="SBERRUB",o=Array.from(t.querySelectorAll("item")).find(s=>s.querySelector("from").textContent===a&&s.querySelector("to").textContent===r);o?(i=o.querySelector("out").textContent,console.log(`Курс ${a} → ${r}: ${i}`)):console.log("Курс не найден")}).catch(e=>console.error("Ошибка загрузки XML:",e));//! Сохраняем значения в localStorage
c.form.addEventListener("input",e=>{const t={email:e.currentTarget.elements.email.value};h(u,t)});f();//!  Загружаем данные из localStorage
function f(){const e=x(u);c.form.elements.email.value=(e==null?void 0:e.email)||""}//! Текущая дата
const l=new Date,d=String(l.getDate()).padStart(2,"0"),g=String(l.getMonth()+1).padStart(2,"0"),y=l.getFullYear(),m=`${d}.${g}.${y}`;console.log(m);//!  submit - выводим информацию
c.form.addEventListener("submit",e=>{if(e.preventDefault(),!e.currentTarget.elements.email.value){alert("Заполните поле Email для идентификации Вас");return}const n=e.currentTarget.elements.email.value.trim().toLowerCase(),t=p.find(a=>a.email.toLowerCase()===n);t?(c.title.textContent=`${t.username}, ${t.titleCourse}`,c.result.textContent=`Стоимость сессии ${t.price} Бат, что на сегодня ${m} по текущему курсу vipChanger 1 Бат = ${i} руб. составляет: ${Math.floor(t.price*i)} руб.`,c.text3.textContent=`Куратор: ${t.teacher}`,console.log(t.opt),t.opt!==""?c.text2.textContent=`Стоимость ${t.opt}-x занятий составит - ${Math.floor(t.priceOpt*i*t.opt)} руб.`:c.text2.textContent=""):c.result.textContent="Такой электронной почты нет в списке",c.form.reset()});//! функция для LocalStorage
function h(e,n){const t=JSON.stringify(n);localStorage.setItem(e,t)}function x(e){const n=localStorage.getItem(e);try{return JSON.parse(n)}catch{return n}}
//# sourceMappingURL=index.js.map
